dice = SingleDice.new()


game = SnakesLadders.new(dice, tokens)
game.play


def play
  player = select_player()
  outcome = dice.roll
  if(has_player_started(player))
  else
    if(outcome == 1)
      signal_begin(player)
      move_token(player, outcome)
    end
  end
end


it 'should allow player to begin only if he rolls 1' do
  [2..6].each do |not_one|
    dice = double()
    dice.stub(:roll) { not_one }
    game = SnakesLadders.new(dice, tokens)

    player = game.next_player
    expect(game.play).to be_falsey
    expect(game.position_of(player)).to eq(Position.EMPTY)
  end

  dice = double()
  dice.stub(:roll) { 1 }
  game = SnakesLadders.new(dice, tokens)

  dice.stub(:roll) { 1 }
  player = game.next_player
  expect(game.play).to be_falsey
  expect(game.position_of(player)).to eq(Position.new(1))

end


class Position
  EMPTY = Position.new(0)
end